<!doctype html>
<html>
  <head>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <style type='text/css'>
      li.issue {
        cursor: pointer;
        -webkit-transition: 0.5s all;
      }
      .arrow-indicator { display: none; }
      li.issue > a {
        text-decoration: none;
        color: black;
      }
      li.issue > a:hover .arrow-indicator { display: inline; }
      #labels-holder .label {
        display: block;
        margin: 5px 0;
        padding: 5px;
      }
      .filtering-by-label .label {
        opacity: 0.3;
      }
      .filtering-by-label .label.active { 
        opacity: 1;
      }
      #issues-holder > ul {
        list-style-type: none;
      }
      #issues-holder > ul > li {
        margin: 5px;
        padding: 5px;
        border-radius: 2px;
        border-bottom: 1px solid #eee;
      }
    </style>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
    <script type='text/coffeescript' src="/application.coffee"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script type="text/javascript" src="//github.com/andyet/ICanHaz.js/raw/master/ICanHaz.min.js"></script>
    <script type='text/javascript' src='//jashkenas.github.com/coffee-script/extras/coffee-script.js'></script>
  </head>
  <body>
    <div id='app' class='container-fluid'>
      <div class='row-fluid'>

        <div id='menu-holder' class='span2'>
          <input type='text' id='search' placeholder='filter those visible' />
          <a class='btn' id='clear-labels'>Clear Labels</a>
          <div id='labels-holder'><ul id='labels'></ul></div>
          <label>top:</label>
          <input type='text' id='top-sort' value='launch critical' />
          <label>bottom:</label>
          <input type='text' id='bottom-sort' value='nice to have' />
          hide:
          <input name='hide-filtered' type='checkbox' id='hide-filtered' checked='checked' value='true' />
          <p>Ctrl = multiselect<br/>Shift = put at top<br/>Alt = put at bottom</p>
        </div>

        <div id='issues-holder' class='span10'></div>

      </div>
    </div>
  </body>

  <!-- TEMPLATES -->
  <script type="text/html" id="issues">
    <ul id='issues'>
      {{#issues}}
      <li class='issue'>
        <a href="{{html_url}}">{{title}} <span class='arrow-indicator'> &rarr;</span></a>
        <ul class='issue_labels' id='issue_labels_{{number}}'>
          {{#labels}}
          <li style="background: #{{color}};" class='label' data-label-name='{{name}}'>
            {{name}}
          </li>
          {{/labels}}
        </ul>
      </li>
      {{/issues}}
    </ul>
  </script>
  <script type="text/html" id="label">
    <li style="background: #{{color}};" class='label btn' data-label-name='{{name}}'>{{name}}</li>
  </script>
</html>
